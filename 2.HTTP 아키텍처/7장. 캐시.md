## 07. 캐시  
  - 캐시는 웹 요청이 왔을때 캐시된 로컬 사본이 존재한다면 이 캐시로부터 응답을 제공한다.
### 7.1 불필요한 데이터 전송
  - 클라이언트가 자주 서버에 접근을 할 때, 서버는 같은 문서를 클라이언트에게 전송하게 되는데 똑같은 바이트들이 네트워크를 통해 반복되어 이동한다. 이처럼 같은 데이터를 보내는 불필요한 데이터 전송은 네트워크 대역폭을 낭비하고, 전송을 느리게 하며, 웹 서버에 부하를 준다.
### 7.2 대역폭 병목
  - 캐시는 네트워크 병목을 줄여준다. 
  - 클라이언트들이 서버에 접근할 때의 속도는, 그 경로에 있는 가장 느린 네트워크의 속도와 같은데 클라이언트가 빠른 LAN에 있는 캐시로부터 사본을 가져온다면 캐싱은 성능을 대폭 개선할 수 있을 것이다.
### 7.3 갑작스런 요청 쇄도(Flash Crowds)
  - 캐싱은 갑작스런 요청 쇄도에 대처하기 위해 특히 중요하다.
  - 많은 사람이 거의 동시에 웹 문서에 접근할 때 발생하는 불필요한 트래픽 급증, 네트워크와 웹 서버의 심각한 장애를 해소시켜준다.
### 7.4 거리로 인한 지연
  - 대역폭이 문제가 되지 않더라도, 물리적 거리가 문제가 될 수 있다.
### 7.5 적중과 부적중
  - `캐시 적중(cache hit)` : 캐시에 요청이 도착했을때 그에 대응하는 사본이 있다면 이것을 이용해 요청을 처리한다.
  - `캐시 부적중(cache miss)` : 위와 같은 상황에서 대응하는 사본이 없다면 그냥 서버로 전달한다.
### 7.5.1 재검사(Revalidation)
  - 캐시는 반드시 그들이 갖고 있는 사본이 여전히 최신인지 서버를 통해 때때로 점검해야한다. 이러한 '신선도 검사'를 `HTTP 재검사`라고 부른다.
  - 캐시는 클라이언트가 사본을 요청했을때 그 사본을 검사할 필요가 있을 정도로 오래되었을 경우 재검사를 진행한다.
  - HTTP는 캐시된 객체를 재확인 하는 몇 가지 도구를 제공하는데 그 중 `If-Modified-Since 헤더`가 제일 많이 쓰인다.
  - If-Modified-Since 헤더는 GET요청을 보냈을때만 사본을 보내달라는 의미이다.
  - 재검사 적중 : 서버의 객체가 변경되지 않았다면 `HTTP 304 Not Modified` 응답을 보낸다.
  - 재검사 부적중 : 캐시된 사본과 다르다면 `HTTP 200 OK` 응답을 보낸다.
  - 객체 삭제 : 서버 객체가 삭제되었다면 `404 Not Found` 응답을 보내고 캐시는 사본을 삭제한다.
### 7.5.2 적중률
  - 캐시가 요청을 처리하는 비율을 `캐시 적중률`이라고 부른다.
### 7.5.3 바이트 적중률
  - 바이트 단위 적중률은 캐시를 통해 제공된 모든 바이트의 비율을 표현한다.
### 7.5.4 적중과 부적중의 구별
  - 클라이언트에게 응답이 캐시에서 왔는지 알아내는 방법 또는 감지하는 방법은 `Date 헤더`를 이용하는 방법과 `Age 헤더`를 이용하는 방법이 있다.
### 7.6 캐시 토폴로지(topology: 망형 네트워크 형태)
  - 캐시는 한 명의 사용자에게 할당될 수도 있고 여러 명의 사용자들 간에 공유될 수 있다.
  - 한 명에게만 할당된 캐시를 `개인 전용 캐시`, 공유된 캐시를 `공용 캐시`라고 한다.
### 7.6.1 개인 전용 캐시
  - 개인 정용 캐시는 많은 에너지나 저장공간이 필요하지 않으며 대부분의 브라우저는 자주쓰는 문서에 개인 전용 캐시를 내장하고 있어서 사용하게 된다.
